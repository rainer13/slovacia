if (self.CavalryLogger) { CavalryLogger.start_js(["\/YftL"]); }

__d("WorkTaskWidgetPreference",[],(function a(b,c,d,e,f,g){f.exports={PERSONAL_TASKS:"personal_tasks",TASKS:"tasks"};}),null);
__d('SignalsTabCountColor',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({GREY:null,BLUE:null,YELLOW:null,RED:null});f.exports=h;}),null);
__d('SignalsTab.react',['React','SignalsTabCountColor'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PureComponent,k=c('React').PropTypes;h=babelHelpers.inherits(l,j);i=h&&h.prototype;l.prototype.render=function(){return c('React').createElement('div',null,this.props.children);};function l(){h.apply(this,arguments);}l.propTypes={children:k.any,count:k.number,countColor:k.oneOf(Object.keys(c('SignalsTabCountColor'))),maxCountToDisplay:k.number,title:k.node.isRequired};l.defaultProps={countColor:c('SignalsTabCountColor').GREY};f.exports=l;}),null);
__d('SignalsTabGroupHeaderSize',['keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({MEDIUM:null,LARGE:null});f.exports=h;}),null);
__d('SignalsTabHeader.react',['cx','React','SignalsTabCountColor','SignalsTabGroupHeaderSize','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l=c('React').PureComponent,m=(k={},k[c('SignalsTabCountColor').GREY]="_hvx",k[c('SignalsTabCountColor').BLUE]="_hvy",k[c('SignalsTabCountColor').YELLOW]="_hvz",k[c('SignalsTabCountColor').RED]="_hv-",k);i=babelHelpers.inherits(n,l);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$SignalsTabHeader1=function(){this.props.onSelect(this.props.index);}.bind(this),p;}n.prototype.render=function(){var o=this.props,p=o.count,q=o.countColor,r=o.headerSize,s=o.maxCountToDisplay,t=o.selected,u=o.title,v="_1yd7"+(r===c('SignalsTabGroupHeaderSize').LARGE?' '+"_hw0":'')+(t?' '+"_hwa":'')+(!t?' '+"_hwb":''),w=p!=null&&s!=null&&p>s?s+'+':p,x=p==null?null:c('React').createElement('div',{className:c('joinClasses')("_1yd8",m[q])},w),y=this.props.background;return c('React').createElement('div',{className:v,role:'tab',style:{background:y!=null?y:'transparent'},tabIndex:'0',onClick:this.$SignalsTabHeader1},c('React').createElement('div',{className:"_1ydb"},u,x));};f.exports=n;}),null);
__d('SignalsTabGroup.react',['cx','invariant','React','SignalsTabGroupHeaderSize','SignalsTabHeader.react','StickyArea.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Children,m=c('React').PureComponent,n=c('React').PropTypes,o='';j=babelHelpers.inherits(p,m);k=j&&j.prototype;function p(q){k.constructor.call(this,q);this.$SignalsTabGroup4=function(){var s=this.$SignalsTabGroup5();if(this.state.selectedIndex!==s)this.setState({selectedIndex:s},function(){return this.$SignalsTabGroup6();}.bind(this));}.bind(this);this.$SignalsTabGroup7=function(s){if(this.state.selectedIndex!==s)this.setState({selectedIndex:s},function(){this.$SignalsTabGroup6();this.$SignalsTabGroup3();}.bind(this));}.bind(this);var r=q.children;r&&r.length>0||i(0);this.$SignalsTabGroup1=r.map(function(s,t){return s.props.path||String(t);});this.state={selectedIndex:this.$SignalsTabGroup2(q)};this.$SignalsTabGroup3(true);}p.prototype.componentWillReceiveProps=function(q){if(q.initiallySelectedIndex!=null&&q.initiallySelectedIndex!=this.state.selectedIndex){var r=this.$SignalsTabGroup2(q);if(this.state.selectedIndex!==r)this.setState({selectedIndex:r},function(){this.$SignalsTabGroup3();}.bind(this));}};p.prototype.componentDidMount=function(){var q=this.props.usePaths;if(q)window.addEventListener('popstate',this.$SignalsTabGroup4);};p.prototype.componentWillUnmount=function(){window.removeEventListener('popstate',this.$SignalsTabGroup4);};p.prototype.$SignalsTabGroup2=function(q){var r=q.children,s=q.initiallySelectedIndex,t=q.usePaths,u=this.$SignalsTabGroup5(),v=t&&u>-1,w=0;if(!v){if(s!=null)w=s;}else w=u;0<=w&&r&&w<r.length||i(0);return w;};p.prototype.$SignalsTabGroup3=function(){var q=arguments.length<=0||arguments[0]===undefined?false:arguments[0],r=this.props.usePaths;if(r){var s=this.state.selectedIndex,t=this.$SignalsTabGroup1,u=this.props.basePath||o,v=document,w=v.location,x=v.title,y=w.search;if(q){history.replaceState(history.state,x,''+u+t[s]+y);}else history.pushState(history.state,x,''+u+t[s]+y);}};p.prototype.$SignalsTabGroup5=function(){var q=this.$SignalsTabGroup1,r=this.props.basePath||o,s=document.location.pathname.replace(''+r,'');return q.indexOf(s);};p.prototype.$SignalsTabGroup6=function(){var q=this.props.onSelectionChanged;if(q!=null)q.bind(this)(this.state.selectedIndex);};p.prototype.getSelectedIndex=function(){return this.state.selectedIndex;};p.prototype.render=function(){var q=l.toArray(this.props.children),r=this.state.selectedIndex,s=this.props,t=s.rightContent,u=s.leftContent,v=s.className,w=s.headerSize,x=[];for(var y=0;y<q.length;y++){var z=q[y],aa=c('React').createElement(c('SignalsTabHeader.react'),{background:z.props.background,count:z.props.count,countColor:z.props.countColor,headerSize:w,index:y,key:'header'+y,maxCountToDisplay:z.props.maxCountToDisplay,selected:y===r,title:z.props.title,onSelect:this.$SignalsTabGroup7});x.push(aa);if(y<q.length-1&&this.props.showSeparator){var ba=c('React').createElement('div',{className:"_58-m",key:'separator'+y});x.push(ba);}}var ca=c('React').createElement('div',{className:"_58-n"+(w===c('SignalsTabGroupHeaderSize').LARGE?' '+"_g_z":'')},u,x,c('React').createElement('div',{className:"_3p80"}),t);if(this.props.useStickHeaders)ca=c('React').createElement(c('StickyArea.react'),{boundToContainer:false,style:{backgroundColor:'white'}},ca);var da=q[r],ea=this.props.maxBodyHeight!=null?{maxHeight:this.props.maxBodyHeight}:null;return c('React').createElement('div',{className:v},ca,c('React').createElement('div',{className:"_58-o",style:ea},da));};p.propTypes={children:n.array,className:n.string,headerSize:n.oneOf(['MEDIUM','LARGE']),initiallySelectedIndex:n.number,leftContent:n.any,maxBodyHeight:n.number,rightContent:n.any,showSeparator:n.bool,usePaths:n.bool,useStickHeaders:n.bool,onSelectionChanged:n.func};p.defaultProps={headerSize:c('SignalsTabGroupHeaderSize').MEDIUM,showSeparator:true,useStickHeaders:false};f.exports=p;}),null);
__d('FeedPersonalTaskOption',['Arbiter'],(function a(b,c,d,e,f,g){'use strict';var h={ADD_TASK:'add_task',init:function i(j,k){j.addEventListener('click',function(){c('Arbiter').inform(this.ADD_TASK,k);}.bind(this));}};f.exports=h;}),null);
__d('WorkPersonalTask.react',['ix','cx','FBCheckbox.react','Image.react','Layout.react','Link.react','React','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('React').PropTypes;j=babelHelpers.inherits(o,c('React').PureComponent);k=j&&j.prototype;o.prototype.render=function(){var p=this.props.postPermalink?c('React').createElement(c('Image.react'),{src:h("117026")}):null,q=this.props.postPermalink?c('React').createElement(c('Link.react'),{href:this.props.postPermalink},this.props.name):c('React').createElement('span',null,this.props.name);return c('React').createElement(c('Layout.react'),{key:this.props.id,className:"_sbt"+(this.props.isCompleted?' '+"_sc3":'')+(' '+"_181r")},c('React').createElement(l,null,c('React').createElement(c('FBCheckbox.react'),{className:"_dom"+(this.props.isCompleted?' '+"_181s":''),checked:this.props.isCompleted,onToggle:function(r){return this.props.onChange({isCompleted:r});}.bind(this)})),c('React').createElement(m,{className:"_181t"},p,c('React').createElement(c('XUIText.react'),{display:'block',className:"_42_o"+(this.props.postPermalink?' '+"_181u":''),onKeyDown:function r(s){if(s.key==='Enter')s.preventDefault();},onKeyUp:function r(s){if(s.key==='Enter')s.target.blur();},onBlur:function(r){this.props.onChange({name:r.target.textContent});}.bind(this),contentEditable:!this.props.postPermalink},q)),c('React').createElement(l,{className:"_181v"},c('React').createElement(c('Link.react'),{className:"_sbu",onClick:this.props.onDelete},c('React').createElement(c('Image.react'),{src:h("126888")}))));};function o(){j.apply(this,arguments);}o.propTypes={creationTime:n.number.isRequired,id:n.string.isRequired,isCompleted:n.bool.isRequired,name:n.string.isRequired,onChange:n.func.isRequired,onDelete:n.func.isRequired,postPermalink:n.string};f.exports=o;}),null);
__d('WorkTask.react',['cx','FBCheckbox.react','Layout.react','Link.react','React','XUIText.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('Layout.react').Column,l=c('Layout.react').FillColumn,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').PureComponent);j=i&&i.prototype;n.prototype.render=function(){return c('React').createElement(c('Layout.react'),{key:this.props.id,className:"_sbt _dok"},c('React').createElement(k,null,c('React').createElement(c('FBCheckbox.react'),{className:"_dom",checked:this.props.isCompleted||false,onToggle:function(o){return this.props.onChange({isCompleted:o});}.bind(this)})),c('React').createElement(l,{className:"_181t"},c('React').createElement(c('XUIText.react'),{display:'block',className:"_42_o"+(' '+"_181u")+(this.props.isCompleted?' '+"_sc3":'')},c('React').createElement(c('Link.react'),{href:this.props.uri,target:'_blank'},this.props.title))));};function n(){i.apply(this,arguments);}n.propTypes={id:m.string.isRequired,isCompleted:m.bool,lastUpdated:m.number.isRequired,onChange:m.func.isRequired,title:m.string.isRequired,uri:m.string.isRequired};f.exports=n;}),null);
__d("XWorkCollapseTaskTabAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/tasks\/collapse\/",{collapsed:{type:"Bool",defaultValue:false}});}),null);
__d("XWorkCreatePersonalTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/personal_task\/create\/",{title:{type:"String",required:true},post_id:{type:"FBID"}});}),null);
__d("XWorkCreateTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/tasks\/create\/",{title:{type:"String",required:true}});}),null);
__d("XWorkDeletePersonalTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/personal_task\/delete\/",{id:{type:"FBID",required:true}});}),null);
__d("XWorkEnableTaskIntegrationAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/tasks\/enable_integration\/",{});}),null);
__d("XWorkSwitchTaskTabAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/tasks\/switch\/",{tab:{type:"Enum",required:true,enumType:1}});}),null);
__d("XWorkUpdatePersonalTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/personal_task\/update\/",{});}),null);
__d("XWorkUpdateTaskAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/work\/tasks\/update\/",{task_id:{type:"String",required:true},completed:{type:"Bool",defaultValue:false}});}),null);
__d('RHCWorkTasksPagelet.react',['ix','cx','fbt','Arbiter','AsyncRequest','FeedPersonalTaskOption','Image.react','Popup','React','ScrollableArea.react','SignalsTab.react','SignalsTabGroup.react','Tooltip.react','WorkPersonalTask.react','WorkTask.react','WorkTaskWidgetPreference','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogCloseButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUINotice.react','XUIText.react','XUITextInput.react','XWorkCollapseTaskTabAsyncController','XWorkCreatePersonalTaskAsyncController','XWorkCreateTaskAsyncController','XWorkDeletePersonalTaskAsyncController','XWorkEnableTaskIntegrationAsyncController','XWorkInstallContentAppOnUserController','XWorkSwitchTaskTabAsyncController','XWorkUpdatePersonalTaskAsyncController','XWorkUpdateTaskAsyncController','fbglyph','nullthrows'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=30;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){l.constructor.call(this,o);this.$RHCWorkTasksPagelet1=null;this.$RHCWorkTasksPagelet9=function(){var q=c('XWorkCollapseTaskTabAsyncController').getURIBuilder().setBool('collapsed',!this.state.collapsed).getURI();new (c('AsyncRequest'))().setURI(q).setMethod('POST').send();this.setState({collapsed:!this.state.collapsed});}.bind(this);this.$RHCWorkTasksPagelet10=function(q){var r=q===1?c('WorkTaskWidgetPreference').TASKS:c('WorkTaskWidgetPreference').PERSONAL_TASKS,s=c('XWorkSwitchTaskTabAsyncController').getURIBuilder().setEnum('tab',r).getURI();new (c('AsyncRequest'))().setURI(s).setMethod('POST').send();this.setState({openTab:q});}.bind(this);this.$RHCWorkTasksPagelet19=function(){if(!this.state.newTaskTitle)return;this.setState({submittingTask:true});var q=c('XWorkCreateTaskAsyncController').getURIBuilder().setString('title',this.state.newTaskTitle).getURI();new (c('AsyncRequest'))().setURI(q).setMethod('POST').setHandler(function(r){this.state.tasks.unshift(r.payload);this.setState({tasks:this.state.tasks,newTaskTitle:'',submittingTask:false});}.bind(this)).send();}.bind(this);var p=this.props.openTab===c('WorkTaskWidgetPreference').TASKS?1:0;this.state={allowTaskCreation:this.props.appIntegration?this.props.appIntegration.allowTaskCreation:false,error:null,newPersonalTaskTitle:'',newTaskTitle:'',personalTasks:this.props.personalTasks,submittingTask:false,openTab:p,tasks:this.props.appIntegration?this.props.appIntegration.tasks:[],collapsed:this.props.collapsed};}n.prototype.componentDidMount=function(){this.$RHCWorkTasksPagelet1=c('Arbiter').subscribe(c('FeedPersonalTaskOption').ADD_TASK,function(o,p){this.$RHCWorkTasksPagelet2(p.name,p.postID);}.bind(this));};n.prototype.componentWillUnmount=function(){c('Arbiter').unsubscribe(this.$RHCWorkTasksPagelet1);};n.prototype.render=function(){if(this.state.collapsed)return c('React').createElement('div',null,this.$RHCWorkTasksPagelet3());var o=[this.$RHCWorkTasksPagelet4(),this.$RHCWorkTasksPagelet5(),this.$RHCWorkTasksPagelet6()],p=this.$RHCWorkTasksPagelet7(o);return c('React').createElement('div',null,this.$RHCWorkTasksPagelet3(),this.$RHCWorkTasksPagelet8(),p);};n.prototype.$RHCWorkTasksPagelet3=function(){var o=this.state.collapsed?h("126907"):h("126919");return c('React').createElement('div',{className:"_3awo"},c('React').createElement('div',{className:"_42_j"},j._("Tasks")),c('React').createElement(c('Image.react'),{className:"_3ja8",src:o,onClick:this.$RHCWorkTasksPagelet9}));};n.prototype.$RHCWorkTasksPagelet7=function(o){var p=[];for(var q=o,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var t;if(r){if(s>=q.length)break;t=q[s++];}else{s=q.next();if(s.done)break;t=s.value;}var u=t;if(u)p.push(u);}if(p.length===0)return null;if(p.length===1)return p[0].content;var v=p.map(function(w,x){var y={};if(w.count&&w.count>0)y.count=w.count;return c('React').createElement(c('SignalsTab.react'),babelHelpers['extends']({key:'tab'+x,title:w.title},y),w.content);});return c('React').createElement(c('SignalsTabGroup.react'),{className:"_sbo",showSeparator:false,initiallySelectedIndex:this.state.openTab,onSelectionChanged:this.$RHCWorkTasksPagelet10},v);};n.prototype.$RHCWorkTasksPagelet4=function(){var o=this.state.personalTasks;if(!o)return null;var p=o.length===0?this.$RHCWorkTasksPagelet11():c('React').createElement(c('ScrollableArea.react'),{className:"_3-8x",height:200},o.map(function(q){return c('React').createElement(c('WorkPersonalTask.react'),babelHelpers['extends']({key:q.id,onChange:function(r){return this.$RHCWorkTasksPagelet12(q,r);}.bind(this),onDelete:function(){return this.$RHCWorkTasksPagelet13(q);}.bind(this)},q));}.bind(this)));return {title:j._("Personal"),count:o.length,content:c('React').createElement('div',{className:"_4ol5"},this.$RHCWorkTasksPagelet14(),p)};};n.prototype.$RHCWorkTasksPagelet5=function(){var o=this.props.appIntegration;if(!o)return null;var p=this.state.tasks.length===0?this.$RHCWorkTasksPagelet15():c('React').createElement(c('ScrollableArea.react'),{className:"_3-8x",height:200},this.state.tasks.map(function(q){return c('React').createElement(c('WorkTask.react'),babelHelpers['extends']({key:q.id,onChange:function(r){return this.$RHCWorkTasksPagelet16(q,r);}.bind(this)},q));}.bind(this)));return {title:o.name,count:this.state.tasks.length,content:c('React').createElement('div',{className:"_4ol5"},this.$RHCWorkTasksPagelet17(),p)};};n.prototype.$RHCWorkTasksPagelet6=function(){var o=this.props.enableConfig;if(!o)return null;return {title:o.name,content:c('React').createElement('div',{className:"_sbr"},c('React').createElement('div',{className:"_1zzc _3-94"},c('React').createElement(c('Image.react'),{src:o.image_large}),c('React').createElement(c('XUIText.react'),{size:'large',weight:'bold',className:"_3-99"},o.name)),c('React').createElement(c('XUIText.react'),{size:'medium',display:'block'},j._("Link your account to Asana in order to see your most recent tasks here.")),c('React').createElement(c('XUIButton.react'),{className:"_3-8w",label:j._("Enable"),size:'large',onClick:function(){return this.$RHCWorkTasksPagelet18(o);}.bind(this)}))};};n.prototype.$RHCWorkTasksPagelet17=function(){var o=this.props.appIntegration;if(!this.state.allowTaskCreation||!o)return null;return c('React').createElement('div',{className:"_4ol6"},c('React').createElement(c('Image.react'),{className:"_40vj",src:h("125020"),onClick:this.$RHCWorkTasksPagelet19}),c('React').createElement(c('XUITextInput.react'),{className:"_40vk",height:'tall',disabled:this.state.submittingTask,value:this.state.newTaskTitle,placeholder:j._("Add a {task provider name} task",[j.param('task provider name',o.name)]),onChange:function(p){return this.setState({newTaskTitle:p.target.value});}.bind(this),onKeyDown:function(p){if(p.key==='Enter')this.$RHCWorkTasksPagelet19();}.bind(this)}),c('React').createElement(c('Tooltip.react'),{display:'block',tooltip:j._("Quickly create self-assigned tasks")},c('React').createElement(c('Image.react'),{src:h("124739")})));};n.prototype.$RHCWorkTasksPagelet14=function(){return c('React').createElement('div',{className:"_4ol6"},c('React').createElement(c('Image.react'),{className:"_40vj",src:h("125020"),onClick:function(){return this.$RHCWorkTasksPagelet2(this.state.newPersonalTaskTitle);}.bind(this)}),c('React').createElement(c('XUITextInput.react'),{className:"_40vk",height:'tall',value:this.state.newPersonalTaskTitle,placeholder:j._("Add a personal task"),onChange:function(event){return this.setState({newPersonalTaskTitle:event.target.value});}.bind(this),onKeyDown:function(event){if(event.key==='Enter')this.$RHCWorkTasksPagelet2(this.state.newPersonalTaskTitle);}.bind(this)}),c('React').createElement(c('Tooltip.react'),{tooltip:j._("Personal tasks are like to dos")},c('React').createElement(c('Image.react'),{src:h("124739")})));};n.prototype.$RHCWorkTasksPagelet15=function(){return this.$RHCWorkTasksPagelet20();};n.prototype.$RHCWorkTasksPagelet20=function(){return c('React').createElement('div',{className:"_sbr"},c('React').createElement(c('XUIText.react'),{size:'xlarge',display:'block'},j._("Lucky you!")),c('React').createElement(c('XUIText.react'),{size:'medium',display:'block',className:"_181w _3-8w"},j._("Your task list is empty.")));};n.prototype.$RHCWorkTasksPagelet11=function(){return c('React').createElement('div',{className:"_sbr"},c('React').createElement(c('XUIText.react'),{size:'xlarge',display:'block'},j._("Add posts to your to-do lists")),c('React').createElement(c('XUIText.react'),{size:'medium',display:'block',className:"_181w _3-8w"},j._("Pop any post in your personal tasks, ready to follow-up later.")));};n.prototype.$RHCWorkTasksPagelet12=function(o,p){var q=Object.assign({},o);Object.assign(o,p);this.setState({personalTasks:this.state.personalTasks});var r=c('XWorkUpdatePersonalTaskAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(r).setMethod('POST').setData({completed:o.isCompleted,id:o.id,title:o.name}).setErrorHandler(function(){var s=this.$RHCWorkTasksPagelet21(o.name),t=j._("An error occurred while updating the task \"{task}\". Please, try again.",[j.param('task',s)]);Object.assign(o,q);this.setState({error:t,personalTasks:this.state.personalTasks});}.bind(this)).send();};n.prototype.$RHCWorkTasksPagelet16=function(o,p){var q=Object.assign({},o);Object.assign(o,p);this.setState({tasks:this.state.tasks});var r=c('XWorkUpdateTaskAsyncController').getURIBuilder().setString('task_id',o.id).setBool('completed',o.isCompleted).getURI();new (c('AsyncRequest'))().setURI(r).setMethod('POST').setErrorHandler(function(s){var t=this.$RHCWorkTasksPagelet21(o.title),u=j._("An error occurred while updating the task \"{task}\". Please, try again.",[j.param('task',t)]);Object.assign(o,q);this.setState({error:u,tasks:this.state.tasks});}.bind(this)).send();};n.prototype.$RHCWorkTasksPagelet22=function(){this.setState({submittingTask:true});var o=c('XWorkEnableTaskIntegrationAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(o).setMethod('POST').setHandler(function(p){this.setState({tasks:p.payload,submittingTask:false,allowTaskCreation:true});}.bind(this)).send();};n.prototype.$RHCWorkTasksPagelet18=function(o){c('Popup').open(o.login_url,700,700);window.workContentAppsOAuthCallback=function(p){var q=c('XWorkInstallContentAppOnUserController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(q).setData({code:p,type:o.type}).setMethod('POST').setHandler(function(r){this.$RHCWorkTasksPagelet22();}.bind(this)).send();}.bind(this);};n.prototype.$RHCWorkTasksPagelet2=function(o,p){if(o==='')return;var q=c('nullthrows')(this.state.personalTasks),r={id:'-1',name:o,isCompleted:false,creationTime:Date.now()};this.setState({newPersonalTaskTitle:'',personalTasks:[r].concat(q)});var s=c('XWorkCreatePersonalTaskAsyncController').getURIBuilder().setString('title',o);if(p)s=s.setFBID('post_id',p.toString());s=s.getURI();new (c('AsyncRequest'))().setURI(s).setMethod('POST').setHandler(function(t){this.setState({personalTasks:c('nullthrows')(this.state.personalTasks).map(function(u){return u===r?t.payload:u;})});}.bind(this)).setErrorHandler(function(t){var u=this.$RHCWorkTasksPagelet21(o),v=j._("An error occurred while saving the task \"{task}\". Please, try again.",[j.param('task',u)]);this.setState({error:v,personalTasks:q});}.bind(this)).send();};n.prototype.$RHCWorkTasksPagelet13=function(o){var p=c('nullthrows')(this.state.personalTasks);this.setState({personalTasks:p.filter(function(r){return r!==o;})});var q=c('XWorkDeletePersonalTaskAsyncController').getURIBuilder().setFBID('id',o.id.toString()).getURI();new (c('AsyncRequest'))().setURI(q).setMethod('POST').setErrorHandler(function(){var r=this.$RHCWorkTasksPagelet21(o.name),s=j._("An error occurred while deleting the task \"{task}\". Please, try again.",[j.param('task',r)]);this.setState({error:s,personalTasks:p});}.bind(this)).send();};n.prototype.$RHCWorkTasksPagelet8=function(){if(!this.state.error)return null;return c('React').createElement(c('XUIDialog.react'),{shown:true,width:400},c('React').createElement(c('XUIDialogTitle.react'),null,j._("Error")),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement(c('XUINotice.react'),{use:'warn'},this.state.error)),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCloseButton.react'),{onClick:function(){return this.setState({error:null});}.bind(this)})));};n.prototype.$RHCWorkTasksPagelet21=function(o){return o.length>m?o.substr(0,m)+'...':o;};f.exports=n;}),null);