if (self.CavalryLogger) { CavalryLogger.start_js(["KkDs6"]); }

__d('DelightsTextTriggerTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:DelightsTextTriggerLoggerConfig',this.$DelightsTextTriggerTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:DelightsTextTriggerLoggerConfig',this.$DelightsTextTriggerTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$DelightsTextTriggerTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$DelightsTextTriggerTypedLogger1=babelHelpers['extends']({},this.$DelightsTextTriggerTypedLogger1,j);return this;};h.prototype.setAppID=function(j){this.$DelightsTextTriggerTypedLogger1.appid=j;return this;};h.prototype.setAppversion=function(j){this.$DelightsTextTriggerTypedLogger1.appversion=j;return this;};h.prototype.setCampaignID=function(j){this.$DelightsTextTriggerTypedLogger1.campaign_id=j;return this;};h.prototype.setCommentAnimationEnabled=function(j){this.$DelightsTextTriggerTypedLogger1.comment_animation_enabled=j;return this;};h.prototype.setCommentAnimationName=function(j){this.$DelightsTextTriggerTypedLogger1.comment_animation_name=j;return this;};h.prototype.setCommentAnimationURL=function(j){this.$DelightsTextTriggerTypedLogger1.comment_animation_url=j;return this;};h.prototype.setCommentAudioURL=function(j){this.$DelightsTextTriggerTypedLogger1.comment_audio_url=j;return this;};h.prototype.setCommentEnabled=function(j){this.$DelightsTextTriggerTypedLogger1.comment_enabled=j;return this;};h.prototype.setCommentHighlightEnabled=function(j){this.$DelightsTextTriggerTypedLogger1.comment_highlight_enabled=j;return this;};h.prototype.setCommentTappingEnabled=function(j){this.$DelightsTextTriggerTypedLogger1.comment_tapping_enabled=j;return this;};h.prototype.setCountry=function(j){this.$DelightsTextTriggerTypedLogger1.country=j;return this;};h.prototype.setDeviceid=function(j){this.$DelightsTextTriggerTypedLogger1.deviceid=j;return this;};h.prototype.setDidDownload=function(j){this.$DelightsTextTriggerTypedLogger1.did_download=j;return this;};h.prototype.setDownloadSuccess=function(j){this.$DelightsTextTriggerTypedLogger1.download_success=j;return this;};h.prototype.setDownloadURL=function(j){this.$DelightsTextTriggerTypedLogger1.download_url=j;return this;};h.prototype.setDurationMs=function(j){this.$DelightsTextTriggerTypedLogger1.duration_ms=j;return this;};h.prototype.setEvent=function(j){this.$DelightsTextTriggerTypedLogger1.event=j;return this;};h.prototype.setExceptionMessage=function(j){this.$DelightsTextTriggerTypedLogger1.exception_message=j;return this;};h.prototype.setExceptionTrace=function(j){this.$DelightsTextTriggerTypedLogger1.exception_trace=j;return this;};h.prototype.setHighlightColor=function(j){this.$DelightsTextTriggerTypedLogger1.highlight_color=j;return this;};h.prototype.setHighlightWeight=function(j){this.$DelightsTextTriggerTypedLogger1.highlight_weight=j;return this;};h.prototype.setIsemployee=function(j){this.$DelightsTextTriggerTypedLogger1.isemployee=j;return this;};h.prototype.setName=function(j){this.$DelightsTextTriggerTypedLogger1.name=j;return this;};h.prototype.setPostAnimationEnabled=function(j){this.$DelightsTextTriggerTypedLogger1.post_animation_enabled=j;return this;};h.prototype.setPostAnimationName=function(j){this.$DelightsTextTriggerTypedLogger1.post_animation_name=j;return this;};h.prototype.setPostAnimationURL=function(j){this.$DelightsTextTriggerTypedLogger1.post_animation_url=j;return this;};h.prototype.setPostAudioURL=function(j){this.$DelightsTextTriggerTypedLogger1.post_audio_url=j;return this;};h.prototype.setPostEnabled=function(j){this.$DelightsTextTriggerTypedLogger1.post_enabled=j;return this;};h.prototype.setPostHighlightEnabled=function(j){this.$DelightsTextTriggerTypedLogger1.post_highlight_enabled=j;return this;};h.prototype.setPostTappingEnabled=function(j){this.$DelightsTextTriggerTypedLogger1.post_tapping_enabled=j;return this;};h.prototype.setReactionKey=function(j){this.$DelightsTextTriggerTypedLogger1.reaction_key=j;return this;};h.prototype.setSessionid=function(j){this.$DelightsTextTriggerTypedLogger1.sessionid=j;return this;};var i={appid:true,appversion:true,campaign_id:true,comment_animation_enabled:true,comment_animation_name:true,comment_animation_url:true,comment_audio_url:true,comment_enabled:true,comment_highlight_enabled:true,comment_tapping_enabled:true,country:true,deviceid:true,did_download:true,download_success:true,download_url:true,duration_ms:true,event:true,exception_message:true,exception_trace:true,highlight_color:true,highlight_weight:true,isemployee:true,name:true,post_animation_enabled:true,post_animation_name:true,post_animation_url:true,post_audio_url:true,post_enabled:true,post_highlight_enabled:true,post_tapping_enabled:true,reaction_key:true,sessionid:true};f.exports=h;}),null);
__d('TextDelightAnimation',['cx','invariant','AjaxRequest','Arbiter','Bootloader','CSS','DelightsTextTriggerTypedLogger','DOM','Event','Style','$','ge','throttle'],(function a(b,c,d,e,f,g,h,i){var j={ASPECT_FIT:0,ASPECT_FILL_WIDTH:1,ASPECT_FILL_HEIGHT:2,ASPECT_FILL:3,FIXED:4},k={},l={},m={},n=null,o={},p=null,q={setupAnimation:function r(s,t){if(!m[s]){q.setupWrapper(s,t);q.setupAnimationRequest(s,t);}else if(n===s)q.loadAnimation(s,t);},setupMultipleAnimations:function r(s){s.forEach(function(t){return q.setupAnimation(t);});},setupPostAnimation:function r(s,t){q.setupAnimation(s,t);},setupCommentAnimation:function r(s,t){q.setupAnimation(s,t);},attachTapToPostElement:function r(s,t,u,v){c('Event').listen(s,'click',q.playPostAnimationOnTap.bind(q,t,u,v));},waitToAttachTapToPostElement:function r(s,t,u,v){if(c('ge')(s)){q.attachTapToPostElement(c('$')(s),t,u,v);}else c('Arbiter').subscribe('LitestandComposer/attachedToDOM',function(w,x){if(c('DOM').contains(c('$')(x),c('$')(s)))q.attachTapToPostElement(c('$')(s),t,u,v);});},attachTapToCommentElement:function r(s,t,u,v){c('Event').listen(s,'click',q.playCommentAnimationOnTap.bind(q,t,u,v));},playPostAnimationOnSubmit:function r(s,t,u){q.playAnimationImpl(s,u);new (c('DelightsTextTriggerTypedLogger'))().setEvent('delights_text_trigger_post_submitted').setCampaignID(t).log();},playPostAnimationOnTap:function r(s,t,u){q.playAnimationImpl(s,u);new (c('DelightsTextTriggerTypedLogger'))().setEvent('delights_text_trigger_post_tapped').setCampaignID(t).log();},playAnimationImpl:function r(s,t){var u=q.setupWrapper(s,t),v=k[s];if(!v){n=s;q.setupAnimation(s,t);}else{c('CSS').show(u);v.stop();v.play();}},playCommentAnimationOnSubmit:function r(s,t,u){q.playAnimationImpl(s,u);new (c('DelightsTextTriggerTypedLogger'))().setEvent('delights_text_trigger_comment_submitted').setCampaignID(t).log();},playCommentAnimationOnTap:function r(s,t,u){q.playAnimationImpl(s,u);new (c('DelightsTextTriggerTypedLogger'))().setEvent('delights_text_trigger_comment_tapped').setCampaignID(t).log();},loadAnimation:function r(s,t){var u=l[s],v=q.setupWrapper(s,t);c('Bootloader').loadModules(["bodymovin"],function(w){if(k[s])return;var x=w.loadAnimation({container:v.firstChild,animationData:u,renderer:'svg',loop:false,autoplay:true});c('CSS').show(v);x.addEventListener('complete',function(){c('CSS').hide(v);});q.positionWrapper(v,x,t);c('Event').listen(window,'resize',c('throttle')(function(){var y=q.setupWrapper(s,t);q.positionWrapper(y,x,t);}));k[s]=x;if(n===s)n=null;},'TextDelightAnimation');if(!p)p=c('Arbiter').subscribe('pre_page_transition',function(){q.removeAllAnimations();});},removeAllAnimations:function r(){Object.keys(k).forEach(function(s){k[s].destroy();c('DOM').remove(o[s]);});k={};o={};},positionWrapper:function r(s,t,u){var v=s.firstChild;v||i(0);var w=getComputedStyle(s),x=parseInt(w.getPropertyValue('width'),10),y=parseInt(w.getPropertyValue('height'),10),z=t.animationData.w,aa=t.animationData.h,ba=u?u.anchorX:.5,ca=u?u.anchorY:.5,da=u?u.scaling:0;if(da==j.ASPECT_FIT){da=z/aa<=x/y?j.ASPECT_FILL_HEIGHT:j.ASPECT_FILL_WIDTH;}else if(da==j.ASPECT_FILL)da=z/aa<=x/y?j.ASPECT_FILL_WIDTH:j.ASPECT_FILL_HEIGHT;var ea=0,fa=0,ga=0,ha=0;switch(da){case j.ASPECT_FILL_WIDTH:var ia=aa*x/z;ea=(y-ia)*(1-ca);fa=0;ga=0;ha=(y-ia)*ca;break;case j.ASPECT_FILL_HEIGHT:var ja=z*y/aa;ea=0;fa=(x-ja)*ba;ga=(x-ja)*(1-ba);ha=0;break;default:throw new Error('Unknown scaling enum.');}c('Style').set(v,'bottom',ea+'px');c('Style').set(v,'left',fa+'px');c('Style').set(v,'right',ga+'px');c('Style').set(v,'top',ha+'px');},setupWrapper:function r(s,t){if(!o[s]){var u=c('DOM').create('div',{className:"_2alo"});o[s]=c('DOM').create('div',{className:"_1yib hidden_elem"},[u]);}var v=o[s];v||i(0);if(!t||!t.containerType||t.containerType=='contentFrame'){var w=c('ge')('globalContainer');if(w){var x=getComputedStyle(w);c('Style').set(v,'top',w.offsetTop+'px');c('Style').set(v,'left',w.offsetLeft+'px');c('Style').set(v,'right',window.innerWidth-parseInt(x.getPropertyValue('width'),10)-w.offsetLeft+'px');}}if(document.body&&!c('DOM').contains(document.body,v))c('DOM').appendContent(document.body,v);return v;},setupAnimationRequest:function r(s,t){var u=new (c('AjaxRequest'))('GET',s);m[s]=u;u.prelude=null;u.onJSON=function(v){var w=v.json;w||i(0);l[s]=w;if(n===s)q.loadAnimation(s,t);};u.send();}};f.exports=q;}),null);